- content_for :title do 'Servers' end
.page-header
  - if current_user
    .pull-right
      = link_to 'New Server', new_server_path, class: 'btn btn-primary'
  %h1 Server Listings

- unless @servers.size == 0
  %table.table
    %thead
      %tr
        %th
          %i.fa.fa-arrow-circle-up
          Rank
        %th
          %i.fa.fa-home
          Name
        %th
          %i.fa.fa-hdd-o
          Server
        %th 
          %i.fa.fa-play
          IP
        %th 
          %i.fa.fa-bars
          Status
    %tbody
      - @servers.to_enum.with_index(1).each do |server, index|
        %tr
          %td.text-center{style: "width: 10%; vertical-align:middle;"}
            %strong= index
          %td.text-center{style: "width: 15%; vertical-align: middle;"}
            %strong= link_to server.title, server_path(server), class: "server"
          %td{style: "width: 40%; vertical-align: middle;"}
            = link_to image_tag(server_banner_path(server)), server_path(server)
            .div{style: "margin-top: 10px; margin-bottom: 5px;"}
              - if server.pvp
                %span.label.label-danger.align PvP
              - else
                %span.label.label-success.align PvE
              - diff = server.difficulty
              - if diff == "bambi"
                %span.label.label-success.align Bambi
              - elsif diff == "normal"
                %span.label.label-primary.align Normal
              - elsif diff == "hardcore"
                %span.label.label-danger.align Hardcore
              - elsif diff == "gold"
                %span.label.label-warning.align Hardcore
              - if server.sync
                %span.label.label-success.align Sync
              - else
                %span.label.label-primary.align No Sync
              %span.label.label-primary.align= server.map
              %span.label.label-primary.align{style: "vertical-align: middle;"}= server.version
          %td{style: "width: 15%; vertical-align: middle;", class: "server-ip-#{server.id}"}
            %a{class: "server ip", href: "#", rel: "tooltip", title: "Click to copy to clipboard.", data: {placement: "top"}}
              %strong= server.ip
            :javascript
              $(".server-ip-#{server.id}").click(function() {
                prompt("Copy to clipboard: ", "#{server.ip}");
              });
            :javascript
              $(".ip").tooltip();
          %td.align{style: "width: 5%; vertical-align: middle; font-size: 20px;"}
            %span.label.label-success Online