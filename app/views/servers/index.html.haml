- content_for :title do 'Servers' end
.page-header
  - if current_user
    .pull-right
      = link_to 'New Server', new_server_path, class: 'btn btn-primary'
  %h1 Server Listings

- unless @servers.size == 0
  %table.table.tablesorter.tablesorter-bootstrap.table-striped
    %thead
      %tr
        %th Version
        %th Name
        %th Owner
        %th PvP/PvE
        %th Difficulty
        %th Sync?
        %th Map
        %th IP Address
        %th Port
    %tbody
      - @servers.each do |server|
        %tr
          %td.align
            %span.label.label-primary.align= server.version
          %td
            = link_to server.title, server
          %td
            = server.user.username
          %td.align
            - if server.pvp
              %span.label.label-danger.align PvP
            - else
              %span.label.label-success.align PvE
          %td.align
            - diff = server.difficulty
            - if diff == "bambi"
              %span.label.label-success.align Bambi
            - elsif diff == "normal"
              %span.label.label-primary.align Normal
            - elsif diff == "hardcore"
              %span.label.label-danger.align Hardcore
            - elsif diff == "gold"
              %span.label.label-warning.align Hardcore
          %td.align
            - if server.sync
              %span.label.label-success.align Sync
            - else
              %span.label.label-primary.align No Sync
          %td.align
            %span.label.label-primary.align= server.map
          %td{class: "server-ip-#{server.id}"}
            %a= server.ip
            :javascript
              $(".server-ip-#{server.id}").click(function() {
                prompt("Copy to clipboard: ", "#{server.ip}")
              });
          %td= server.port
  :javascript
    $(".tablesorter").tablesorter({
      sortList: [[1,1]]
    });